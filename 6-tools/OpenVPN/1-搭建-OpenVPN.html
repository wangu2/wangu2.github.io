<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ­å»º OpenVPN | YOU CAN DO IT @ WANGU</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.57b1b43f.css" as="style"><link rel="preload" href="/assets/js/app.7efbe7ba.js" as="script"><link rel="preload" href="/assets/js/2.6911186c.js" as="script"><link rel="preload" href="/assets/js/22.6918c566.js" as="script"><link rel="prefetch" href="/assets/js/10.0dd62fe5.js"><link rel="prefetch" href="/assets/js/11.79010c3f.js"><link rel="prefetch" href="/assets/js/12.3e4763f5.js"><link rel="prefetch" href="/assets/js/13.7e1a5336.js"><link rel="prefetch" href="/assets/js/14.3fa1a476.js"><link rel="prefetch" href="/assets/js/15.f9994be5.js"><link rel="prefetch" href="/assets/js/16.289306ba.js"><link rel="prefetch" href="/assets/js/17.90f30f83.js"><link rel="prefetch" href="/assets/js/18.745e118b.js"><link rel="prefetch" href="/assets/js/19.bfba5612.js"><link rel="prefetch" href="/assets/js/20.e6073ffb.js"><link rel="prefetch" href="/assets/js/21.53c46aba.js"><link rel="prefetch" href="/assets/js/23.bdb07654.js"><link rel="prefetch" href="/assets/js/24.2208129a.js"><link rel="prefetch" href="/assets/js/25.7bfd10bc.js"><link rel="prefetch" href="/assets/js/26.9d2bd670.js"><link rel="prefetch" href="/assets/js/3.b0fe903f.js"><link rel="prefetch" href="/assets/js/4.9b4a50d5.js"><link rel="prefetch" href="/assets/js/5.5f3bf129.js"><link rel="prefetch" href="/assets/js/6.defbe399.js"><link rel="prefetch" href="/assets/js/7.7077d182.js"><link rel="prefetch" href="/assets/js/8.8142661f.js"><link rel="prefetch" href="/assets/js/9.67779462.js">
    <link rel="stylesheet" href="/assets/css/0.styles.57b1b43f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">YOU CAN DO IT @ WANGU</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åŸºæœ¬çš„" class="dropdown-title"><span class="title">åŸºæœ¬çš„</span> <span class="arrow down"></span></button> <button type="button" aria-label="åŸºæœ¬çš„" class="mobile-dropdown-title"><span class="title">åŸºæœ¬çš„</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/1-base/java/java-oop.html" class="nav-link">
  Java åŸºç¡€
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Spring" class="dropdown-title"><span class="title">Java Spring</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java Spring" class="mobile-dropdown-title"><span class="title">Java Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ç¼–è¾‘å™¨
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/#2" class="nav-link">
  //TODO IntelliJ IDEA
</a></li></ul></li><li class="dropdown-item"><h4>
          Spring Boot
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/2-java-spring/Spring/SpringBoot/IDEAåˆ›å»ºSpringBoot/1-idea-create-springboot.html" class="nav-link">
  Spring Boot - å¤šæ¨¡å—é¡¹ç›®åˆ›å»º
</a></li><li class="dropdown-subitem"><a href="/#3" class="nav-link">
  //TODO Spring Boot - Helloword
</a></li><li class="dropdown-subitem"><a href="/#4" class="nav-link">
  //TODO Spring Boot - å¤šé…ç½®æ–‡ä»¶
</a></li><li class="dropdown-subitem"><a href="/#5" class="nav-link">
  //TODO Spring Boot - LogBackæ—¥å¿—é…ç½®
</a></li><li class="dropdown-subitem"><a href="/#6" class="nav-link">
  //TODO Spring Boot - Swagger UI
</a></li></ul></li><li class="dropdown-item"><h4>
          Spring Security
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/#7" class="nav-link">
  //TODO åˆå§‹åŒ–
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸­é—´ä»¶" class="mobile-dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/3-java-extends/ä¸­é—´ä»¶/RabbitMQæ¶ˆæ¯ä¸­é—´ä»¶/1-RabbitMQ-setup.html" class="nav-link">
  RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—
</a></li><li class="dropdown-item"><!----> <a href="/3-java-extends/ä¸­é—´ä»¶/SpringBoot2.0é›†æˆActiviti6/1-springboot-activit-star.html" class="nav-link">
  Activiti6 å·¥ä½œæµå¼•æ“
</a></li><li class="dropdown-item"><!----> <a href="/#8" class="nav-link">
  //TODO Shardingsphere åˆ†åº“åˆ†è¡¨
</a></li><li class="dropdown-item"><!----> <a href="/#9" class="nav-link">
  //TODO Mybaits-Plus ORM æ•°æ®æŒä¹…
</a></li><li class="dropdown-item"><!----> <a href="/#10" class="nav-link">
  //TODO Druid è¿æ¥æ± 
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¿»è¿‡è¿™åº§å±±" class="dropdown-title"><span class="title">ç¿»è¿‡è¿™åº§å±±</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç¿»è¿‡è¿™åº§å±±" class="mobile-dropdown-title"><span class="title">ç¿»è¿‡è¿™åº§å±±</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/5-up/ç¬¬ä¸€é˜¶æ®µ/1-Mybaitsæºç è§£æ.html" class="nav-link">
  1.1.æŒä¹…å±‚æ¡†æ¶è®¾è®¡å®ç°åŠMyBatisæºç åˆ†æ
</a></li><li class="dropdown-item"><!----> <a href="/5-up/ç¬¬ä¸€é˜¶æ®µ/2-IoCå®¹å™¨è®¾è®¡åŠSpringæºç .html" class="nav-link">
  1.2.IoCå®¹å™¨è®¾è®¡å®ç°åŠSpringæºç åˆ†æ
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥å…·" class="dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow down"></span></button> <button type="button" aria-label="å·¥å…·" class="mobile-dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/6-tools/OpenVPN/1-æ­å»º-OpenVPN.html" class="nav-link">
  æœåŠ¡å™¨æ­å»º OpenVPN
</a></li></ul></div></div><div class="nav-item"><a href="/6-tools/0-å°å·¥å…·é›†åˆ.html" class="nav-link">
  é›†
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ€" class="dropdown-title"><span class="title">ğŸ€</span> <span class="arrow down"></span></button> <button type="button" aria-label="ğŸ€" class="mobile-dropdown-title"><span class="title">ğŸ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/0-life/basketball/1-day1.html" class="nav-link">
  çƒæ€§è®­ç»ƒè®¡åˆ’
</a></li></ul></div></div><div class="nav-item"><a href="/å…³äº.html" class="nav-link">
  å…³äº
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åŸºæœ¬çš„" class="dropdown-title"><span class="title">åŸºæœ¬çš„</span> <span class="arrow down"></span></button> <button type="button" aria-label="åŸºæœ¬çš„" class="mobile-dropdown-title"><span class="title">åŸºæœ¬çš„</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/1-base/java/java-oop.html" class="nav-link">
  Java åŸºç¡€
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Spring" class="dropdown-title"><span class="title">Java Spring</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java Spring" class="mobile-dropdown-title"><span class="title">Java Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ç¼–è¾‘å™¨
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/#2" class="nav-link">
  //TODO IntelliJ IDEA
</a></li></ul></li><li class="dropdown-item"><h4>
          Spring Boot
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/2-java-spring/Spring/SpringBoot/IDEAåˆ›å»ºSpringBoot/1-idea-create-springboot.html" class="nav-link">
  Spring Boot - å¤šæ¨¡å—é¡¹ç›®åˆ›å»º
</a></li><li class="dropdown-subitem"><a href="/#3" class="nav-link">
  //TODO Spring Boot - Helloword
</a></li><li class="dropdown-subitem"><a href="/#4" class="nav-link">
  //TODO Spring Boot - å¤šé…ç½®æ–‡ä»¶
</a></li><li class="dropdown-subitem"><a href="/#5" class="nav-link">
  //TODO Spring Boot - LogBackæ—¥å¿—é…ç½®
</a></li><li class="dropdown-subitem"><a href="/#6" class="nav-link">
  //TODO Spring Boot - Swagger UI
</a></li></ul></li><li class="dropdown-item"><h4>
          Spring Security
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/#7" class="nav-link">
  //TODO åˆå§‹åŒ–
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸­é—´ä»¶" class="mobile-dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/3-java-extends/ä¸­é—´ä»¶/RabbitMQæ¶ˆæ¯ä¸­é—´ä»¶/1-RabbitMQ-setup.html" class="nav-link">
  RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—
</a></li><li class="dropdown-item"><!----> <a href="/3-java-extends/ä¸­é—´ä»¶/SpringBoot2.0é›†æˆActiviti6/1-springboot-activit-star.html" class="nav-link">
  Activiti6 å·¥ä½œæµå¼•æ“
</a></li><li class="dropdown-item"><!----> <a href="/#8" class="nav-link">
  //TODO Shardingsphere åˆ†åº“åˆ†è¡¨
</a></li><li class="dropdown-item"><!----> <a href="/#9" class="nav-link">
  //TODO Mybaits-Plus ORM æ•°æ®æŒä¹…
</a></li><li class="dropdown-item"><!----> <a href="/#10" class="nav-link">
  //TODO Druid è¿æ¥æ± 
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¿»è¿‡è¿™åº§å±±" class="dropdown-title"><span class="title">ç¿»è¿‡è¿™åº§å±±</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç¿»è¿‡è¿™åº§å±±" class="mobile-dropdown-title"><span class="title">ç¿»è¿‡è¿™åº§å±±</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/5-up/ç¬¬ä¸€é˜¶æ®µ/1-Mybaitsæºç è§£æ.html" class="nav-link">
  1.1.æŒä¹…å±‚æ¡†æ¶è®¾è®¡å®ç°åŠMyBatisæºç åˆ†æ
</a></li><li class="dropdown-item"><!----> <a href="/5-up/ç¬¬ä¸€é˜¶æ®µ/2-IoCå®¹å™¨è®¾è®¡åŠSpringæºç .html" class="nav-link">
  1.2.IoCå®¹å™¨è®¾è®¡å®ç°åŠSpringæºç åˆ†æ
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥å…·" class="dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow down"></span></button> <button type="button" aria-label="å·¥å…·" class="mobile-dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/6-tools/OpenVPN/1-æ­å»º-OpenVPN.html" class="nav-link">
  æœåŠ¡å™¨æ­å»º OpenVPN
</a></li></ul></div></div><div class="nav-item"><a href="/6-tools/0-å°å·¥å…·é›†åˆ.html" class="nav-link">
  é›†
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ€" class="dropdown-title"><span class="title">ğŸ€</span> <span class="arrow down"></span></button> <button type="button" aria-label="ğŸ€" class="mobile-dropdown-title"><span class="title">ğŸ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/0-life/basketball/1-day1.html" class="nav-link">
  çƒæ€§è®­ç»ƒè®¡åˆ’
</a></li></ul></div></div><div class="nav-item"><a href="/å…³äº.html" class="nav-link">
  å…³äº
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/6-tools/OpenVPN/1-æ­å»º-OpenVPN.html" class="active sidebar-link">æ­å»º OpenVPN</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/1-æ­å»º-OpenVPN.html#openvpn-sslåè®®" class="sidebar-link">OpenVPN - SSLåè®®</a></li><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/1-æ­å»º-OpenVPN.html#å¼€å§‹å®‰è£…" class="sidebar-link">å¼€å§‹å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/1-æ­å»º-OpenVPN.html#ç”Ÿæˆä¸é…ç½®è¯ä¹¦" class="sidebar-link">ç”Ÿæˆä¸é…ç½®è¯ä¹¦</a></li><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/1-æ­å»º-OpenVPN.html#é…ç½®-openvpn-server-conf" class="sidebar-link">é…ç½® OpenVPN - Server.conf</a></li><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/1-æ­å»º-OpenVPN.html#é…ç½®-iptables" class="sidebar-link">é…ç½® iptables</a></li><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/1-æ­å»º-OpenVPN.html#å¯åŠ¨-openvpn-server" class="sidebar-link">å¯åŠ¨ OpenVPN Server</a></li><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/1-æ­å»º-OpenVPN.html#å¯åŠ¨-openvpn-client" class="sidebar-link">å¯åŠ¨ OpenVPN Client</a></li></ul></li><li><a href="/6-tools/OpenVPN/2-é…ç½®-OpenVPNå¯†ç è®¤è¯.html" class="sidebar-link">é…ç½® OpenVPN å¯†ç è®¤è¯</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/2-é…ç½®-OpenVPNå¯†ç è®¤è¯.html#å¼€å§‹å®‰è£…" class="sidebar-link">å¼€å§‹å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/2-é…ç½®-OpenVPNå¯†ç è®¤è¯.html#ä¸‹è½½å¯†ç è®¤è¯è„šæœ¬" class="sidebar-link">ä¸‹è½½å¯†ç è®¤è¯è„šæœ¬</a></li><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/2-é…ç½®-OpenVPNå¯†ç è®¤è¯.html#é…ç½®-openvpn-server" class="sidebar-link">é…ç½® OpenVPN Server</a></li><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/2-é…ç½®-OpenVPNå¯†ç è®¤è¯.html#é…ç½®-openvpn-client" class="sidebar-link">é…ç½® OpenVPN Client</a></li><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/2-é…ç½®-OpenVPNå¯†ç è®¤è¯.html#è¿›è¡Œè®¤è¯æµ‹è¯•" class="sidebar-link">è¿›è¡Œè®¤è¯æµ‹è¯•</a></li></ul></li><li><a href="/6-tools/OpenVPN/3-è¡ç”Ÿé—®é¢˜.html" class="sidebar-link">è¡ç”Ÿé—®é¢˜</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/6-tools/OpenVPN/3-è¡ç”Ÿé—®é¢˜.html#é˜¿é‡Œäº‘åŒvpcã€åŒè·¯ç”±ã€å¤šäº¤æ¢æœº" class="sidebar-link">é˜¿é‡Œäº‘åŒVPCã€åŒè·¯ç”±ã€å¤šäº¤æ¢æœº</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="æ­å»º-openvpn"><a href="#æ­å»º-openvpn" class="header-anchor">#</a> æ­å»º OpenVPN</h1> <blockquote><p>ç›®å‰ç¯å¢ƒä¸ºå¤šå°é˜¿é‡Œäº‘çš„ ECS æœåŠ¡å™¨ï¼Œç³»ç»Ÿä¸º CentOS</p></blockquote> <p></p><div class="table-of-contents"><ul><li><a href="#openvpn-sslåè®®">OpenVPN - SSLåè®®</a></li><li><a href="#å¼€å§‹å®‰è£…">å¼€å§‹å®‰è£…</a><ul><li><a href="#å®‰è£…ä¾èµ–">å®‰è£…ä¾èµ–</a></li><li><a href="#ä¸‹è½½">ä¸‹è½½</a></li><li><a href="#ç¼–è¯‘ã€å®‰è£…">ç¼–è¯‘ã€å®‰è£…</a></li><li><a href="#é…ç½®-pki-https-baike-baidu-com-item-e5-85-ac-e9-92-a5-e5-9f-ba-e7-a1-80-e8-ae-be-e6-96-bd-10881894-fromtitle-pki-fromid-212376-fr-aladdin-ä¿¡æ¯">é…ç½® PKI ä¿¡æ¯</a></li></ul></li><li><a href="#ç”Ÿæˆä¸é…ç½®è¯ä¹¦">ç”Ÿæˆä¸é…ç½®è¯ä¹¦</a><ul><li><a href="#é‡è½½-æ¸…é™¤æ‰€æœ‰è¯ä¹¦">é‡è½½&amp;æ¸…é™¤æ‰€æœ‰è¯ä¹¦</a></li><li><a href="#ç”Ÿæˆè¯ä¹¦-ca-è¯ä¹¦">ç”Ÿæˆè¯ä¹¦ CA è¯ä¹¦</a></li><li><a href="#ç”Ÿæˆ-server-æ‰€éœ€çš„ç§˜é’¥ã€è¯ä¹¦">ç”Ÿæˆ Server æ‰€éœ€çš„ç§˜é’¥ã€è¯ä¹¦</a></li><li><a href="#ç”Ÿæˆ-client-æ‰€éœ€çš„ç§˜é’¥ã€è¯ä¹¦">ç”Ÿæˆ Client æ‰€éœ€çš„ç§˜é’¥ã€è¯ä¹¦</a></li><li><a href="#å¤åˆ¶è¯ä¹¦ã€å¯†é’¥å’Œå‚æ•°æ–‡ä»¶">å¤åˆ¶è¯ä¹¦ã€å¯†é’¥å’Œå‚æ•°æ–‡ä»¶</a></li></ul></li><li><a href="#é…ç½®-openvpn-server-conf">é…ç½® OpenVPN - Server.conf</a></li><li><a href="#é…ç½®-iptables">é…ç½® iptables</a><ul><li><a href="#é…ç½®-iptables-å‰-ç¡®ä¿-iptables-å·²ç»å¼€å¯å¦åˆ™æ— æ•ˆ">é…ç½® iptables å‰ï¼Œç¡®ä¿ iptables å·²ç»å¼€å¯å¦åˆ™æ— æ•ˆ</a></li><li><a href="#æ¸…é™¤-iptables-è§„åˆ™">æ¸…é™¤ iptables è§„åˆ™</a></li><li><a href="#æ·»åŠ -iptables-è§„åˆ™">æ·»åŠ  iptables è§„åˆ™</a></li><li><a href="#å¼€å¯å†…éƒ¨-ipv4-è·¯ç”±è½¬å‘">å¼€å¯å†…éƒ¨ IPv4 è·¯ç”±è½¬å‘</a></li></ul></li><li><a href="#å¯åŠ¨-openvpn-server">å¯åŠ¨ OpenVPN Server</a></li><li><a href="#å¯åŠ¨-openvpn-client">å¯åŠ¨ OpenVPN Client</a><ul><li><a href="#æŸ¥çœ‹ç½‘ç»œçŠ¶æ€">æŸ¥çœ‹ç½‘ç»œçŠ¶æ€</a></li></ul></li></ul></div><p></p> <h2 id="openvpn-sslåè®®"><a href="#openvpn-sslåè®®" class="header-anchor">#</a> OpenVPN - SSLåè®®</h2> <p>VPN ç›´è¯‘å°±æ˜¯è™šæ‹Ÿä¸“ç”¨é€šé“ï¼Œæ˜¯æä¾›ç»™ä¼ä¸šä¹‹é—´æˆ–è€…ä¸ªäººä¸å…¬å¸ä¹‹é—´å®‰å…¨æ•°æ®ä¼ è¾“çš„éš§é“ <br> <a href="https://github.com/OpenVPN/easy-rsa" target="_blank" rel="noopener noreferrer">OpenVPN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> æ˜¯ä¸€ä¸ªåŸºäº OpenSSL åº“çš„åº”ç”¨å±‚ VPN å®ç°ã€‚</p> <h2 id="å¼€å§‹å®‰è£…"><a href="#å¼€å§‹å®‰è£…" class="header-anchor">#</a> å¼€å§‹å®‰è£…</h2> <p><strong>æ‰€æ¶‰åŠçš„æ–‡ä»¶ã€ç›®å½•ç­‰ä¿¡æ¯</strong></p> <ul><li><strong>å®‰è£…ç›®å½•</strong>ï¼š<code>/root/tools</code></li> <li><strong>é…ç½®ç›®å½•</strong>ï¼š<code>/root/tools/openvpn-server</code></li> <li><strong>è¯ä¹¦ç”Ÿæˆç›®å½•</strong>ï¼š<code>/root/tools/openvpn-2.2.2/easy-rsa/2.0/keys</code></li> <li><strong>OpenVPN Server IP</strong>ï¼š<code>47.100.XXX.XXX</code></li> <li><strong>Server æ‰€éœ€æ–‡ä»¶</strong>ï¼š<code>aliyun.keyã€aliyun.csrã€aliyun.crtã€dh1024.pemã€ca.crt</code></li> <li><strong>Client æ‰€éœ€æ–‡ä»¶</strong>ï¼š<code>client.keyã€client.csrã€client.crtã€ca.crt</code></li> <li><strong>ä¸‹è½½åœ°å€</strong>ï¼š<a href="http://oss.aliyuncs.com/aliyunecs/openvpn-2.2.2.tar.gz" target="_blank" rel="noopener noreferrer">OpenVPN Server<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€<a href="https://www.techspot.com/downloads/5182-openvpn.html" target="_blank" rel="noopener noreferrer">OpenVPN Client<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€<a href="https://dl.t2.re/Others/OpenVPN/checkpsw.sh" target="_blank" rel="noopener noreferrer">å¯†ç è®¤è¯è„šæœ¬<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="header-anchor">#</a> å®‰è£…ä¾èµ–</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token function">install</span> -y lzo lzo-devel openssl openssl-devel pam pam-devel
yum <span class="token function">install</span> -y pkcs11-helper pkcs11-helper-devel
<span class="token function">rpm</span> -qa lzolzo-devel openssl openssl-devel pam pam-devel pkcs11-helper pkcs11-helper-devel
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="header-anchor">#</a> ä¸‹è½½</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /root/tools
<span class="token function">wget</span> http://oss.aliyuncs.com/aliyunecs/openvpn-2.2.2.tar.gz
<span class="token function">tar</span> -zxvf openvpn-2.2.2.tar.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="ç¼–è¯‘ã€å®‰è£…"><a href="#ç¼–è¯‘ã€å®‰è£…" class="header-anchor">#</a> ç¼–è¯‘ã€å®‰è£…</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> openvpn-2.2.2
./configure                     <span class="token comment"># é…ç½®</span>
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>            <span class="token comment"># ç¼–è¯‘ã€å®‰è£…</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span>                         <span class="token comment"># 0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="é…ç½®-pki-ä¿¡æ¯"><a href="#é…ç½®-pki-ä¿¡æ¯" class="header-anchor">#</a> é…ç½® <a href="https://baike.baidu.com/item/%E5%85%AC%E9%92%A5%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD/10881894?fromtitle=PKI&amp;fromid=212376&amp;fr=aladdin" target="_blank" rel="noopener noreferrer">PKI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ä¿¡æ¯</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># è¿›å…¥ç›®å½•</span>
<span class="token builtin class-name">cd</span> easy-rsa/2.0/
<span class="token comment"># å¤‡ä»½åŸæ–‡ä»¶</span>
<span class="token function">cp</span> vars vars_<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%F<span class="token variable">)</span></span>~
<span class="token comment"># ç¼–è¾‘ä¸‹åˆ—å­—æ®µ</span>
<span class="token function">vim</span> vars

<span class="token builtin class-name">export</span> <span class="token assign-left variable">KEY_COUNTRY</span><span class="token operator">=</span><span class="token string">&quot;CN&quot;</span>                 <span class="token comment"># æ‰€åœ¨çš„å›½å®¶</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">KEY_PROVINCE</span><span class="token operator">=</span><span class="token string">&quot;JIANGSU&quot;</span>           <span class="token comment"># æ‰€åœ¨çš„çœä»½      </span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">KEY_CITY</span><span class="token operator">=</span><span class="token string">&quot;NANJING&quot;</span>               <span class="token comment"># æ‰€åœ¨çš„åŸå¸‚</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">KEY_ORG</span><span class="token operator">=</span><span class="token string">&quot;EVNBASE&quot;</span>                <span class="token comment"># æ‰€åœ¨çš„ç»„ç»‡</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">KEY_EMAIL</span><span class="token operator">=</span><span class="token string">&quot;ENVBASE@126.com&quot;</span>      <span class="token comment"># é‚®ç®±çš„åœ°å€</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="ç”Ÿæˆä¸é…ç½®è¯ä¹¦"><a href="#ç”Ÿæˆä¸é…ç½®è¯ä¹¦" class="header-anchor">#</a> ç”Ÿæˆä¸é…ç½®è¯ä¹¦</h2> <h3 id="é‡è½½-æ¸…é™¤æ‰€æœ‰è¯ä¹¦"><a href="#é‡è½½-æ¸…é™¤æ‰€æœ‰è¯ä¹¦" class="header-anchor">#</a> é‡è½½&amp;æ¸…é™¤æ‰€æœ‰è¯ä¹¦</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">source</span> ./vars
./clean-all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="ç”Ÿæˆè¯ä¹¦-ca-è¯ä¹¦"><a href="#ç”Ÿæˆè¯ä¹¦-ca-è¯ä¹¦" class="header-anchor">#</a> ç”Ÿæˆè¯ä¹¦ CA è¯ä¹¦</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>./build-ca
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å®Œæˆåï¼Œkeys ç›®å½•ä¸‹ä¼šç”Ÿæˆ <code>ca.crt</code> æ–‡ä»¶</p> <h3 id="ç”Ÿæˆ-server-æ‰€éœ€çš„ç§˜é’¥ã€è¯ä¹¦"><a href="#ç”Ÿæˆ-server-æ‰€éœ€çš„ç§˜é’¥ã€è¯ä¹¦" class="header-anchor">#</a> ç”Ÿæˆ Server æ‰€éœ€çš„ç§˜é’¥ã€è¯ä¹¦</h3> <p>å…¶ä¸­ aliyun æ˜¯è‡ªå®šä¹‰çš„åå­—ï¼Œè¿ç»­å›è½¦ç¡®è®¤ï¼Œæœ€åä¼šæœ‰ä¸¤æ¬¡äº¤äº’ï¼Œè¾“å…¥yç¡®è®¤ã€‚</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>./build-key-server aliyun
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å®Œæˆåï¼Œkeys ç›®å½•ä¸‹ä¼šç”Ÿæˆ <strong><code>aliyun.keyã€aliyun.csrã€aliyun.crt</code></strong> æ–‡ä»¶</p> <h3 id="ç”Ÿæˆ-client-æ‰€éœ€çš„ç§˜é’¥ã€è¯ä¹¦"><a href="#ç”Ÿæˆ-client-æ‰€éœ€çš„ç§˜é’¥ã€è¯ä¹¦" class="header-anchor">#</a> ç”Ÿæˆ Client æ‰€éœ€çš„ç§˜é’¥ã€è¯ä¹¦</h3> <p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºç§˜é’¥ä¸è¯ä¹¦ï¼Œå…¶ä¸­ client æ˜¯ç”¨æˆ·åï¼Œè¿ç»­å›è½¦ç¡®è®¤ï¼Œæœ€åä¼šæœ‰ä¸¤æ¬¡äº¤äº’ï¼Œè¾“å…¥yç¡®è®¤ã€‚ <br>
å®Œæˆåï¼Œkeys ç›®å½•ä¸‹ä¼šç”Ÿæˆ 1024 ä½ RSA æœåŠ¡å™¨å¯†é’¥ <strong><code>client.keyã€client.csrã€client.crt</code></strong> æ–‡ä»¶</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>./build-key client
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç”Ÿæˆç”¨äºå®¢æˆ·ç«¯éªŒè¯çš„ Diffie Hellmanå‚æ•°ï¼Œå®Œæˆåï¼Œkeys ç›®å½•ä¸‹ä¼šç”Ÿæˆ dh å‚æ•°æ–‡ä»¶ <strong><code>dh1024.pem</code></strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>./build-dh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="å¤åˆ¶è¯ä¹¦ã€å¯†é’¥å’Œå‚æ•°æ–‡ä»¶"><a href="#å¤åˆ¶è¯ä¹¦ã€å¯†é’¥å’Œå‚æ•°æ–‡ä»¶" class="header-anchor">#</a> å¤åˆ¶è¯ä¹¦ã€å¯†é’¥å’Œå‚æ•°æ–‡ä»¶</h3> <p>åˆ›å»ºé…ç½®ç›®å½• <code>mkdir /root/tools/openvpn-server</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># å¤åˆ¶è¯ä¹¦è‡³é…ç½®ç›®å½•</span>
<span class="token function">cp</span> -a /root/tools/openvpn-2.2.2/easy-rsa/2.0/keys/  /root/tools/openvpn-server/

<span class="token comment"># è¿›å…¥ openvpn ç¤ºä¾‹ä»£ç ç›®å½•</span>
<span class="token builtin class-name">cd</span> /root/tools/openvpn-2.2.2/sample-config-files/
<span class="token comment"># å¤åˆ¶ server.confã€client.conf è‡³é…ç½®ç›®å½•</span>
<span class="token function">cp</span> server.conf client.conf /root/tools/openvpn-server/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="é…ç½®-openvpn-server-conf"><a href="#é…ç½®-openvpn-server-conf" class="header-anchor">#</a> é…ç½® OpenVPN - Server.conf</h2> <p>åˆ‡æ¢ç›®å½•è‡³ <code>/root/tools/openvpn-server/</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># å¤‡ä»½åŸæ–‡ä»¶</span>
<span class="token function">cp</span> server.conf server.conf_<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%F<span class="token variable">)</span></span>
<span class="token comment"># å¼€å§‹ç¼–è¾‘</span>
<span class="token function">vim</span> server.conf

<span class="token builtin class-name">local</span> <span class="token number">0.0</span>.0.0
port <span class="token number">1194</span>                                           <span class="token comment"># ç«¯å£</span>
proto udp                                           <span class="token comment"># åè®®</span>
dev tun                                             <span class="token comment"># é‡‡ç”¨è·¯ç”±éš§é“æ¨¡å¼ tun</span>
ca /root/tools/openvpn-server/keys/ca.crt           <span class="token comment"># ca è¯ä¹¦æ–‡ä»¶ä½ç½®</span>
cert /root/tools/openvpn-serverkeys/aliyun.crt      <span class="token comment"># æœåŠ¡ç«¯å…¬é’¥åç§°</span>
key /root/tools/openvpn-serverkeys/aliyun.key       <span class="token comment"># æœåŠ¡ç«¯ç§é’¥åç§°</span>
dh /root/tools/openvpn-serverkeys/dh1024.pem        <span class="token comment"># äº¤æ¢è¯ä¹¦</span>
server <span class="token number">10.8</span>.0.0 <span class="token number">255.255</span>.255.0                       <span class="token comment"># ç»™å®¢æˆ·ç«¯åˆ†é…åœ°å€æ± ï¼Œæ³¨æ„ï¼šä¸èƒ½å’ŒVPNæœåŠ¡å™¨å†…ç½‘ç½‘æ®µæœ‰ç›¸åŒ</span>
push <span class="token string">&quot;route 172.19.0.0 255.255.255.0&quot;</span>               <span class="token comment"># å…è®¸å®¢æˆ·ç«¯è®¿é—®å†…ç½‘ 172.19.0.0 ç½‘æ®µ</span>
ifconfig-pool-persist ipp.txt                       <span class="token comment"># åœ°å€æ± è®°å½•æ–‡ä»¶ä½ç½®</span>
keepalive <span class="token number">10</span> <span class="token number">120</span>                                    <span class="token comment"># å­˜æ´»æ—¶é—´ï¼Œ10ç§’pingä¸€æ¬¡,120 å¦‚æœªæ”¶åˆ°å“åº”åˆ™è§†ä¸ºæ–­çº¿</span>
max-clients <span class="token number">100</span>                                     <span class="token comment"># æœ€å¤šå…è®¸100ä¸ªå®¢æˆ·ç«¯è¿æ¥</span>
status openvpn-status.log                           <span class="token comment"># æ—¥å¿—è®°å½•ä½ç½®</span>
verb <span class="token number">3</span>                                              <span class="token comment"># æ—¥å¿—çº§åˆ«ç­‰çº§</span>
client-to-client                                    <span class="token comment"># å®¢æˆ·ç«¯ä¸å®¢æˆ·ç«¯ä¹‹é—´æ”¯æŒé€šä¿¡</span>
log /var/log/openvpn.log                            <span class="token comment"># OpenVPN æ—¥å¿—è®°å½•ä½ç½®</span>
persist-key                                         <span class="token comment"># é€šè¿‡ keepalive æ£€æµ‹è¶…æ—¶åï¼Œé‡æ–°å¯åŠ¨ VPNï¼Œä¸é‡æ–°è¯»å– keysï¼Œä¿ç•™ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„ keysã€‚</span>
persist-tun                                         <span class="token comment"># æ£€æµ‹è¶…æ—¶åï¼Œé‡æ–°å¯åŠ¨VPNï¼Œä¸€ç›´ä¿æŒ tun æ˜¯ linkup çš„ã€‚å¦åˆ™ç½‘ç»œä¼šå…ˆ linkdown ç„¶åå†linkup</span>
duplicate-cn                                        <span class="token comment"># å®¢æˆ·ç«¯ä½¿ç”¨ç›¸åŒçš„è¯ä¹¦å’Œå¯†é’¥è¿æ¥VPNï¼Œè¦æ‰“å¼€è¿™ä¸ªé€‰é¡¹ï¼Œå¦åˆ™æ¯ä¸ªè¯ä¹¦åªå…è®¸ä¸€ä¸ªäººè¿æ¥VPN</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="é…ç½®-iptables"><a href="#é…ç½®-iptables" class="header-anchor">#</a> é…ç½® iptables</h2> <h3 id="é…ç½®-iptables-å‰-ç¡®ä¿-iptables-å·²ç»å¼€å¯å¦åˆ™æ— æ•ˆ"><a href="#é…ç½®-iptables-å‰-ç¡®ä¿-iptables-å·²ç»å¼€å¯å¦åˆ™æ— æ•ˆ" class="header-anchor">#</a> é…ç½® iptables å‰ï¼Œç¡®ä¿ iptables å·²ç»å¼€å¯å¦åˆ™æ— æ•ˆ</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token function">install</span> -y iptables-services        <span class="token comment"># å®‰è£… iptables-service</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="æ¸…é™¤-iptables-è§„åˆ™"><a href="#æ¸…é™¤-iptables-è§„åˆ™" class="header-anchor">#</a> æ¸…é™¤ iptables è§„åˆ™</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl <span class="token builtin class-name">enable</span> iptables       <span class="token comment"># iptables å¯ç”¨</span>

iptables -F                     <span class="token comment"># æ¸…é™¤è§„åˆ™é“¾ä¸­å·²æœ‰çš„æ¡ç›®</span>
iptables -X                     <span class="token comment"># æ¸…é™¤é¢„è®¾è¡¨filterä¸­ä½¿ç”¨è€…è‡ªå®šé“¾ä¸­çš„è§„åˆ™</span>
iptables -Z                     <span class="token comment"># æ¸…ç©ºè§„åˆ™é“¾ä¸­çš„æ•°æ®åŒ…è®¡ç®—å™¨å’Œå­—èŠ‚è®¡æ•°å™¨</span>

iptables -t nat -F              <span class="token comment"># æ¸…é™¤ nat </span>
iptables -t nat -X
iptables -t nat -Z

iptables -t mangle -F           <span class="token comment"># æ¸…é™¤ mangle</span>
iptables -t mangle -X
iptables -t mangle -Z

iptables -P INPUT ACCEPT        <span class="token comment"># æ¥æ”¶å¤„ç†æ•°æ®æ•°æ®åŒ…</span>
iptables -P OUTPUT ACCEPT       <span class="token comment"># æ¥æ”¶å¤„ç†è¾“å‡ºæ•°æ®åŒ…</span>
iptables -P FORWARD ACCEPT      <span class="token comment"># æ¥æ”¶å¤„ç†è½¬å‘æ•°æ®åŒ…</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="æ·»åŠ -iptables-è§„åˆ™"><a href="#æ·»åŠ -iptables-è§„åˆ™" class="header-anchor">#</a> æ·»åŠ  iptables è§„åˆ™</h3> <h4 id="openvpn-ä½¿ç”¨"><a href="#openvpn-ä½¿ç”¨" class="header-anchor">#</a> OpenVPN ä½¿ç”¨</h4> <p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨åˆ°çš„å‘½ä»¤å¦‚ä¸‹</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># é…ç½®natè¡¨å°†vpnç½‘æ®µIPè½¬å‘åˆ°serverå†…ç½‘ï¼Œè¿™å¾ˆé‡è¦</span>
iptables -t nat -I POSTROUTING -s <span class="token number">10.8</span>.0.0/24 -o eth0 -j SNAT --to-source <span class="token number">172.19</span>.89.134

<span class="token comment"># æŸ¥çœ‹åˆ—è¡¨</span>
iptables -L -n -t nat

<span class="token comment"># iptables ä¿å­˜</span>
<span class="token function">service</span> iptables save

<span class="token comment"># æœåŠ¡å™¨é‡å¯ä»¥åº”ç”¨</span>
<span class="token function">service</span> iptables restart

<span class="token comment"># æŸ¥çœ‹çŠ¶æ€</span>
systemctl list-unit-files <span class="token operator">|</span> <span class="token function">grep</span> iptables
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">é‡è¦: é˜²ç«å¢™ä¸€å®šè¦å¼€å¯åå†è¿›è¡Œä¸Šè¿°é…ç½®æ“ä½œ</p> <p><strong>10.8.0.0/24 ä¸ºVPNåˆ†é…çš„ç½‘æ®µ</strong> <br> <strong>172.19.89.134 ä¸ºå½“å‰ OpenVPN Server å®‰è£…çš„æœåŠ¡å™¨ 172.19 åœ°å€åœ°å€ç§æœ‰ ip</strong></p></div> <h3 id="å¼€å¯å†…éƒ¨-ipv4-è·¯ç”±è½¬å‘"><a href="#å¼€å¯å†…éƒ¨-ipv4-è·¯ç”±è½¬å‘" class="header-anchor">#</a> å¼€å¯å†…éƒ¨ IPv4 è·¯ç”±è½¬å‘</h3> <p>ä½œä¸ºè·¯ç”±æˆ–è€… VPN æœåŠ¡å°±å¿…é¡»è¦å¼€å¯IPè½¬å‘åŠŸèƒ½</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> /etc/sysctl.conf

net.ipv4.ip_forward <span class="token operator">=</span> <span class="token number">1</span>     <span class="token comment"># 1å¼€å¯ï¼Œ0ä¸å¼€</span>
sysctl -p                   <span class="token comment"># ä½¿é…ç½®ç«‹å³ç”Ÿæ•ˆ</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="å¯åŠ¨-openvpn-server"><a href="#å¯åŠ¨-openvpn-server" class="header-anchor">#</a> å¯åŠ¨ OpenVPN Server</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># é€‰æ‹©é…ç½®æ–‡ä»¶å¹¶ä»¥åå°æ–¹å¼è¿è¡Œ</span>
/usr/local/sbin/openvpn --config /root/tools/openvpn-server/server.conf <span class="token operator">&amp;</span>

<span class="token comment"># æŸ¥çœ‹çŠ¶æ€</span>
<span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> openvpn
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="å¯åŠ¨-openvpn-client"><a href="#å¯åŠ¨-openvpn-client" class="header-anchor">#</a> å¯åŠ¨ OpenVPN Client</h2> <p>Windows ç¯å¢ƒï¼Œé¦–å…ˆä¸‹è½½å®¢æˆ·ç«¯ <a href="https://www.techspot.com/downloads/5182-openvpn.html" target="_blank" rel="noopener noreferrer">OpenVPN Client<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚<br></p> <ol><li><p>å°†æœåŠ¡å™¨ <code>/root/tools/openvpn-server</code> ç›®å½•ä¸‹çš„ <code>client.keyã€client.csrã€client.crtã€ca.crt</code> <br></p></li> <li><p>ä¸‹è½½åˆ° <code>F:\Tools\OpenVPN</code> (æˆ‘æœ¬åœ°å®‰è£…ç›®å½•) <br></p></li></ol> <div class="custom-block tip"><p class="custom-block-title">linux ä¸‹è½½æ–‡ä»¶æˆ–ä¸Šä¼  (rz, sz å‘½ä»¤)</p> <p>yum -y install lrzsz</p></div> <ol start="3"><li>åˆ›å»º <code>client.ovpn</code> æ–‡ä»¶ï¼Œé…ç½®å¦‚ä¸‹ï¼ˆä¿®æ”¹ IP &amp; cert &amp; key åç§°ï¼‰</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>client                              <span class="token comment"># å£°æ˜å½“å‰VPNæ˜¯å®¢æˆ·ç«¯</span>
dev tun                             <span class="token comment"># ä½¿ç”¨tunéš§é“ä¼ è¾“åè®®</span>
proto udp                           <span class="token comment"># ä½¿ç”¨udpåè®®ä¼ è¾“æ•°æ®</span>
remote <span class="token number">47.100</span>.XXX.XXX <span class="token number">1194</span>          <span class="token comment"># -- OpenVPN Server æ‰€å®‰è£…æœåŠ¡å™¨ IP åœ°å€ä¸ç«¯å£ (47.100.XXX.XXX)</span>
resolv-retry infinite               <span class="token comment"># æ–­çº¿è‡ªåŠ¨é‡æ–°è¿æ¥ï¼Œåœ¨ç½‘ç»œä¸ç¨³å®šçš„æƒ…å†µä¸‹éå¸¸æœ‰ç”¨</span>
nobind                              <span class="token comment"># ä¸ç»‘å®šæœ¬åœ°ç‰¹å®šçš„ç«¯å£å·</span>
persist-key                         <span class="token comment"># é€šè¿‡ keepalive æ£€æµ‹è¶…æ—¶åï¼Œé‡æ–°å¯åŠ¨ VPNï¼Œä¸é‡æ–°è¯»å– keysï¼Œä¿ç•™ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„ keysã€‚</span>
persist-tun                         <span class="token comment"># æ£€æµ‹è¶…æ—¶åï¼Œé‡æ–°å¯åŠ¨VPNï¼Œä¸€ç›´ä¿æŒ tun æ˜¯ linkup çš„ã€‚å¦åˆ™ç½‘ç»œä¼šå…ˆ linkdown ç„¶åå†linkup</span>
ca ca.crt                           <span class="token comment"># -- OpenVPN Server æœåŠ¡å™¨ä¸Šæ‹·è´ä¸‹ ca.crt æ–‡ä»¶</span>
cert mike.crt                       <span class="token comment"># -- OpenVPN Server æœåŠ¡å™¨ä¸Šæ‹·è´ä¸‹ client.crt æ–‡ä»¶</span>
key mike.key                        <span class="token comment"># -- OpenVPN Server æœåŠ¡å™¨ä¸Šæ‹·è´ä¸‹ client.key æ–‡ä»¶</span>
comp-lzo                            <span class="token comment"># ä½¿ç”¨LZOå‹ç¼©</span>
verb <span class="token number">2</span>                              <span class="token comment"># æ—¥å¿—çº§åˆ«ç­‰çº§</span>
remote-cert-tls server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ol start="4"><li><p>å³å‡» Client å°é”èœå•é€‰æ‹©å¯¼å…¥é…ç½®æ–‡ä»¶ï¼Œé€‰æ‹©ä¸Šé¢åˆ›å»ºçš„ <code>client.ovpn</code></p></li> <li><p>å³å‡»é€‰æ‹©è¿æ¥ï¼Œæ­¤æ—¶ OpenVPN ä¼šåˆ†é…ä¸€ä¸ª <code>10.8.0.0</code> ç½‘æ®µçš„ IP åœ°å€ç»™æœ¬æœºã€‚ä½¿ç”¨ <code>ipconfig</code> è¿›è¡ŒæŸ¥çœ‹</p></li></ol> <blockquote><p>å°å›¾æ ‡ç»¿äº†ï¼Œå°±ä»£è¡¨ä»–å·²ç»è¿æ¥è‡³ OpenVPN Server ( ğŸ‘½ : æ€ä¹ˆå°±ç»¿äº† )</p></blockquote> <div class="language-SHELL line-numbers-mode"><pre class="language-shell"><code>æœªçŸ¥é€‚é…å™¨ æœ¬åœ°è¿æ¥:

   è¿æ¥ç‰¹å®šçš„ DNS åç¼€ <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">:</span>
   æœ¬åœ°é“¾æ¥ IPv6 åœ°å€. <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">:</span> fe80::4d4d:2ef7:3199:a610%26
   IPv4 åœ°å€ <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">:</span> <span class="token number">10.8</span>.0.6
   å­ç½‘æ©ç   <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">:</span> <span class="token number">255.255</span>.255.252
   é»˜è®¤ç½‘å…³. <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">:</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="6"><li>ä½¿ç”¨å‘½ä»¤ <code>route print</code> æŸ¥çœ‹è·¯ç”±åˆ—è¡¨</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
æ¥å£åˆ—è¡¨
 <span class="token number">26</span><span class="token punctuation">..</span>.00 ff <span class="token number">79</span> <span class="token number">47</span> e2 e8 <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>TAP-Windows Adapter V9
 <span class="token number">12</span><span class="token punctuation">..</span>.6c 4b <span class="token number">90</span> <span class="token number">54</span> ca <span class="token number">19</span> <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>Realtek PCIe GBE Family Controller
  <span class="token number">8</span><span class="token punctuation">..</span>.00 1a 7d da <span class="token number">71</span> <span class="token number">11</span> <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>Bluetooth Device <span class="token punctuation">(</span>Personal Area Network<span class="token punctuation">)</span> <span class="token comment">#2</span>
  <span class="token number">1</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.Software Loopback Interface <span class="token number">1</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>

IPv4 è·¯ç”±è¡¨
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
æ´»åŠ¨è·¯ç”±:
ç½‘ç»œç›®æ ‡        ç½‘ç»œæ©ç           ç½‘å…³       æ¥å£   è·ƒç‚¹æ•°
          <span class="token number">0.0</span>.0.0          <span class="token number">0.0</span>.0.0      <span class="token number">192.168</span>.1.1    <span class="token number">192.168</span>.1.152     <span class="token number">35</span>
          <span class="token number">0.0</span>.0.0        <span class="token number">128.0</span>.0.0         <span class="token number">10.8</span>.0.5         <span class="token number">10.8</span>.0.6    <span class="token number">281</span>
         <span class="token number">10.8</span>.0.0    <span class="token number">255.255</span>.255.0         <span class="token number">10.8</span>.0.5         <span class="token number">10.8</span>.0.6    <span class="token number">281</span>
         <span class="token number">10.8</span>.0.4  <span class="token number">255.255</span>.255.252            åœ¨é“¾è·¯ä¸Š          <span class="token number">10.8</span>.0.6    <span class="token number">281</span>
         <span class="token number">10.8</span>.0.6  <span class="token number">255.255</span>.255.255            åœ¨é“¾è·¯ä¸Š          <span class="token number">10.8</span>.0.6    <span class="token number">281</span>
         <span class="token number">10.8</span>.0.7  <span class="token number">255.255</span>.255.255            åœ¨é“¾è·¯ä¸Š          <span class="token number">10.8</span>.0.6    <span class="token number">281</span>
   <span class="token number">47.100</span>.160.158  <span class="token number">255.255</span>.255.255      <span class="token number">192.168</span>.1.1    <span class="token number">192.168</span>.1.152    <span class="token number">291</span>
        <span class="token number">127.0</span>.0.0        <span class="token number">255.0</span>.0.0            åœ¨é“¾è·¯ä¸Š         <span class="token number">127.0</span>.0.1    <span class="token number">331</span>
        <span class="token number">127.0</span>.0.1  <span class="token number">255.255</span>.255.255            åœ¨é“¾è·¯ä¸Š         <span class="token number">127.0</span>.0.1    <span class="token number">331</span>
  <span class="token number">127.255</span>.255.255  <span class="token number">255.255</span>.255.255            åœ¨é“¾è·¯ä¸Š         <span class="token number">127.0</span>.0.1    <span class="token number">331</span>
        <span class="token number">128.0</span>.0.0        <span class="token number">128.0</span>.0.0         <span class="token number">10.8</span>.0.5         <span class="token number">10.8</span>.0.6    <span class="token number">281</span>
       <span class="token number">172.19</span>.0.0    <span class="token number">255.255</span>.255.0         <span class="token number">10.8</span>.0.5         <span class="token number">10.8</span>.0.6    <span class="token number">281</span>
      <span class="token number">192.168</span>.1.0    <span class="token number">255.255</span>.255.0            åœ¨é“¾è·¯ä¸Š     <span class="token number">192.168</span>.1.152    <span class="token number">291</span>
    <span class="token number">192.168</span>.1.152  <span class="token number">255.255</span>.255.255            åœ¨é“¾è·¯ä¸Š     <span class="token number">192.168</span>.1.152    <span class="token number">291</span>
    <span class="token number">192.168</span>.1.255  <span class="token number">255.255</span>.255.255            åœ¨é“¾è·¯ä¸Š     <span class="token number">192.168</span>.1.152    <span class="token number">291</span>
        <span class="token number">224.0</span>.0.0        <span class="token number">240.0</span>.0.0            åœ¨é“¾è·¯ä¸Š         <span class="token number">127.0</span>.0.1    <span class="token number">331</span>
        <span class="token number">224.0</span>.0.0        <span class="token number">240.0</span>.0.0            åœ¨é“¾è·¯ä¸Š     <span class="token number">192.168</span>.1.152    <span class="token number">291</span>
        <span class="token number">224.0</span>.0.0        <span class="token number">240.0</span>.0.0            åœ¨é“¾è·¯ä¸Š          <span class="token number">10.8</span>.0.6    <span class="token number">281</span>
  <span class="token number">255.255</span>.255.255  <span class="token number">255.255</span>.255.255            åœ¨é“¾è·¯ä¸Š         <span class="token number">127.0</span>.0.1    <span class="token number">331</span>
  <span class="token number">255.255</span>.255.255  <span class="token number">255.255</span>.255.255            åœ¨é“¾è·¯ä¸Š     <span class="token number">192.168</span>.1.152    <span class="token number">291</span>
  <span class="token number">255.255</span>.255.255  <span class="token number">255.255</span>.255.255            åœ¨é“¾è·¯ä¸Š          <span class="token number">10.8</span>.0.6    <span class="token number">281</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>åˆ—è¡¨ä¸­ <code>172.19.0.0 255.255.255.0 10.8.0.5 10.8.0.6 281</code>ï¼Œå·²åŠ å…¥ OpenVPN Server é…ç½®çš„ç½‘æ®µå†…ã€‚</p> <h3 id="æŸ¥çœ‹ç½‘ç»œçŠ¶æ€"><a href="#æŸ¥çœ‹ç½‘ç»œçŠ¶æ€" class="header-anchor">#</a> æŸ¥çœ‹ç½‘ç»œçŠ¶æ€</h3> <p><strong>ä½¿ç”¨ç½‘ç»œè¿½è¸ªå‘½ä»¤ tracertï¼ŒæŸ¥çœ‹ç½‘ç»œçŠ¶æ€</strong></p> <p>åœ¨ OpenVPN è¿æ¥çŠ¶æ€ä¸‹ï¼Œè¿½è¸ªä¸€ä¸‹ <code>172.19.89.132</code> ( æ­¤ IP ä¸º OpenVPN Server æ‰€åœ¨å­ç½‘é‡Œå¦å¤–ä¸€å°æœºå™¨ )</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token operator">&gt;</span> tracert -d <span class="token number">172.19</span>.89.132

é€šè¿‡æœ€å¤š <span class="token number">30</span> ä¸ªè·ƒç‚¹è·Ÿè¸ªåˆ° <span class="token number">172.19</span>.89.132 çš„è·¯ç”±

  <span class="token number">1</span>    <span class="token number">13</span> ms    <span class="token number">12</span> ms    <span class="token number">12</span> ms  <span class="token number">172.19</span>.89.132

è·Ÿè¸ªå®Œæˆã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ä»¥ä¸ŠçŠ¶æ€ä¸ºæ­£å¸¸çŠ¶æ€ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¦å¤– <code>ping</code> çš„æŒ‡ä»¤æ¥è¿›è¡ŒæŸ¥çœ‹ç½‘ç»œçŠ¶æ€</p> <p>ä¹Ÿå¯ä»¥ç®€å•ç²—æš´ç›´æ¥è®¿é—® <a href="https://ip.cn/" target="_blank" rel="noopener noreferrer">ip.cn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ï¼Œåœ°åŒºæ˜¾ç¤ºä¸ºé˜¿é‡Œäº‘ï¼Œip ä¸º OpenVPN Server æ‰€åœ¨æœåŠ¡å™¨ ip</p> <blockquote><p>tracert æˆ– ping ä¸€ç›´è¶…æ—¶åˆ™ä»£è¡¨æœ‰é—®é¢˜ ğŸ¤”</p> <p>æˆ‘åœ¨å®‰è£…æ—¶é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯å› ä¸ºé˜²ç«å¢™æœªå¼€å¯å†…éƒ¨è·¯ç”±æ— æ³•è½¬å‘é€ æˆçš„ã€‚( å¦‚ä½•å¼€å¯å‚è€ƒä¸Šè¿°ç« èŠ‚å³å¯ )</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/6-tools/OpenVPN/2-é…ç½®-OpenVPNå¯†ç è®¤è¯.html">
        é…ç½® OpenVPN å¯†ç è®¤è¯
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.7efbe7ba.js" defer></script><script src="/assets/js/2.6911186c.js" defer></script><script src="/assets/js/22.6918c566.js" defer></script>
  </body>
</html>
