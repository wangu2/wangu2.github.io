(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{421:function(s,a,t){"use strict";t.r(a);var e=t(27),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"搭建-openvpn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搭建-openvpn"}},[s._v("#")]),s._v(" 搭建 OpenVPN")]),s._v(" "),t("blockquote",[t("p",[s._v("目前环境为多台阿里云的 ECS 服务器，系统为 CentOS")])]),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#openvpn-ssl协议"}},[s._v("OpenVPN - SSL协议")])]),t("li",[t("a",{attrs:{href:"#开始安装"}},[s._v("开始安装")]),t("ul",[t("li",[t("a",{attrs:{href:"#安装依赖"}},[s._v("安装依赖")])]),t("li",[t("a",{attrs:{href:"#下载"}},[s._v("下载")])]),t("li",[t("a",{attrs:{href:"#编译、安装"}},[s._v("编译、安装")])]),t("li",[t("a",{attrs:{href:"#配置-pki-https-baike-baidu-com-item-e5-85-ac-e9-92-a5-e5-9f-ba-e7-a1-80-e8-ae-be-e6-96-bd-10881894-fromtitle-pki-fromid-212376-fr-aladdin-信息"}},[s._v("配置 PKI 信息")])])])]),t("li",[t("a",{attrs:{href:"#生成与配置证书"}},[s._v("生成与配置证书")]),t("ul",[t("li",[t("a",{attrs:{href:"#重载-清除所有证书"}},[s._v("重载&清除所有证书")])]),t("li",[t("a",{attrs:{href:"#生成证书-ca-证书"}},[s._v("生成证书 CA 证书")])]),t("li",[t("a",{attrs:{href:"#生成-server-所需的秘钥、证书"}},[s._v("生成 Server 所需的秘钥、证书")])]),t("li",[t("a",{attrs:{href:"#生成-client-所需的秘钥、证书"}},[s._v("生成 Client 所需的秘钥、证书")])]),t("li",[t("a",{attrs:{href:"#复制证书、密钥和参数文件"}},[s._v("复制证书、密钥和参数文件")])])])]),t("li",[t("a",{attrs:{href:"#配置-openvpn-server-conf"}},[s._v("配置 OpenVPN - Server.conf")])]),t("li",[t("a",{attrs:{href:"#配置-iptables"}},[s._v("配置 iptables")]),t("ul",[t("li",[t("a",{attrs:{href:"#配置-iptables-前-确保-iptables-已经开启否则无效"}},[s._v("配置 iptables 前，确保 iptables 已经开启否则无效")])]),t("li",[t("a",{attrs:{href:"#清除-iptables-规则"}},[s._v("清除 iptables 规则")])]),t("li",[t("a",{attrs:{href:"#添加-iptables-规则"}},[s._v("添加 iptables 规则")])]),t("li",[t("a",{attrs:{href:"#开启内部-ipv4-路由转发"}},[s._v("开启内部 IPv4 路由转发")])])])]),t("li",[t("a",{attrs:{href:"#启动-openvpn-server"}},[s._v("启动 OpenVPN Server")])]),t("li",[t("a",{attrs:{href:"#启动-openvpn-client"}},[s._v("启动 OpenVPN Client")]),t("ul",[t("li",[t("a",{attrs:{href:"#查看网络状态"}},[s._v("查看网络状态")])])])])])]),t("p"),s._v(" "),t("h2",{attrs:{id:"openvpn-ssl协议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#openvpn-ssl协议"}},[s._v("#")]),s._v(" OpenVPN - SSL协议")]),s._v(" "),t("p",[s._v("VPN 直译就是虚拟专用通道，是提供给企业之间或者个人与公司之间安全数据传输的隧道 "),t("br"),s._v(" "),t("a",{attrs:{href:"https://github.com/OpenVPN/easy-rsa",target:"_blank",rel:"noopener noreferrer"}},[s._v("OpenVPN"),t("OutboundLink")],1),s._v(" 是一个基于 OpenSSL 库的应用层 VPN 实现。")]),s._v(" "),t("h2",{attrs:{id:"开始安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开始安装"}},[s._v("#")]),s._v(" 开始安装")]),s._v(" "),t("p",[t("strong",[s._v("所涉及的文件、目录等信息")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("安装目录")]),s._v("："),t("code",[s._v("/root/tools")])]),s._v(" "),t("li",[t("strong",[s._v("配置目录")]),s._v("："),t("code",[s._v("/root/tools/openvpn-server")])]),s._v(" "),t("li",[t("strong",[s._v("证书生成目录")]),s._v("："),t("code",[s._v("/root/tools/openvpn-2.2.2/easy-rsa/2.0/keys")])]),s._v(" "),t("li",[t("strong",[s._v("OpenVPN Server IP")]),s._v("："),t("code",[s._v("47.100.XXX.XXX")])]),s._v(" "),t("li",[t("strong",[s._v("Server 所需文件")]),s._v("："),t("code",[s._v("aliyun.key、aliyun.csr、aliyun.crt、dh1024.pem、ca.crt")])]),s._v(" "),t("li",[t("strong",[s._v("Client 所需文件")]),s._v("："),t("code",[s._v("client.key、client.csr、client.crt、ca.crt")])]),s._v(" "),t("li",[t("strong",[s._v("下载地址")]),s._v("："),t("a",{attrs:{href:"http://oss.aliyuncs.com/aliyunecs/openvpn-2.2.2.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[s._v("OpenVPN Server"),t("OutboundLink")],1),s._v("、"),t("a",{attrs:{href:"https://www.techspot.com/downloads/5182-openvpn.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("OpenVPN Client"),t("OutboundLink")],1),s._v("、"),t("a",{attrs:{href:"https://dl.t2.re/Others/OpenVPN/checkpsw.sh",target:"_blank",rel:"noopener noreferrer"}},[s._v("密码认证脚本"),t("OutboundLink")],1)])]),s._v(" "),t("h3",{attrs:{id:"安装依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[s._v("#")]),s._v(" 安装依赖")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y lzo lzo-devel openssl openssl-devel pam pam-devel\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y pkcs11-helper pkcs11-helper-devel\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa lzolzo-devel openssl openssl-devel pam pam-devel pkcs11-helper pkcs11-helper-devel\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"下载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[s._v("#")]),s._v(" 下载")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/tools\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://oss.aliyuncs.com/aliyunecs/openvpn-2.2.2.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf openvpn-2.2.2.tar.gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"编译、安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译、安装"}},[s._v("#")]),s._v(" 编译、安装")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" openvpn-2.2.2\n./configure                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编译、安装")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v("                         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 0表示没有错误")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"配置-pki-信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-pki-信息"}},[s._v("#")]),s._v(" 配置 "),t("a",{attrs:{href:"https://baike.baidu.com/item/%E5%85%AC%E9%92%A5%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD/10881894?fromtitle=PKI&fromid=212376&fr=aladdin",target:"_blank",rel:"noopener noreferrer"}},[s._v("PKI"),t("OutboundLink")],1),s._v(" 信息")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" easy-rsa/2.0/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 备份原文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" vars vars_"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%F"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("~\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑下列字段")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" vars\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KEY_COUNTRY")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CN"')]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所在的国家")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KEY_PROVINCE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"JIANGSU"')]),s._v("           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所在的省份      ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KEY_CITY")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"NANJING"')]),s._v("               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所在的城市")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KEY_ORG")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EVNBASE"')]),s._v("                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所在的组织")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KEY_EMAIL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ENVBASE@126.com"')]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 邮箱的地址")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h2",{attrs:{id:"生成与配置证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成与配置证书"}},[s._v("#")]),s._v(" 生成与配置证书")]),s._v(" "),t("h3",{attrs:{id:"重载-清除所有证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重载-清除所有证书"}},[s._v("#")]),s._v(" 重载&清除所有证书")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ./vars\n./clean-all\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"生成证书-ca-证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成证书-ca-证书"}},[s._v("#")]),s._v(" 生成证书 CA 证书")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("./build-ca\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("完成后，keys 目录下会生成 "),t("code",[s._v("ca.crt")]),s._v(" 文件")]),s._v(" "),t("h3",{attrs:{id:"生成-server-所需的秘钥、证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成-server-所需的秘钥、证书"}},[s._v("#")]),s._v(" 生成 Server 所需的秘钥、证书")]),s._v(" "),t("p",[s._v("其中 aliyun 是自定义的名字，连续回车确认，最后会有两次交互，输入y确认。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("./build-key-server aliyun\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("完成后，keys 目录下会生成 "),t("strong",[t("code",[s._v("aliyun.key、aliyun.csr、aliyun.crt")])]),s._v(" 文件")]),s._v(" "),t("h3",{attrs:{id:"生成-client-所需的秘钥、证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成-client-所需的秘钥、证书"}},[s._v("#")]),s._v(" 生成 Client 所需的秘钥、证书")]),s._v(" "),t("p",[s._v("执行以下命令创建秘钥与证书，其中 client 是用户名，连续回车确认，最后会有两次交互，输入y确认。 "),t("br"),s._v("\n完成后，keys 目录下会生成 1024 位 RSA 服务器密钥 "),t("strong",[t("code",[s._v("client.key、client.csr、client.crt")])]),s._v(" 文件")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("./build-key client\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("执行以下命令，生成用于客户端验证的 Diffie Hellman参数，完成后，keys 目录下会生成 dh 参数文件 "),t("strong",[t("code",[s._v("dh1024.pem")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("./build-dh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"复制证书、密钥和参数文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#复制证书、密钥和参数文件"}},[s._v("#")]),s._v(" 复制证书、密钥和参数文件")]),s._v(" "),t("p",[s._v("创建配置目录 "),t("code",[s._v("mkdir /root/tools/openvpn-server")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 复制证书至配置目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -a /root/tools/openvpn-2.2.2/easy-rsa/2.0/keys/  /root/tools/openvpn-server/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入 openvpn 示例代码目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/tools/openvpn-2.2.2/sample-config-files/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 复制 server.conf、client.conf 至配置目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" server.conf client.conf /root/tools/openvpn-server/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"配置-openvpn-server-conf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-openvpn-server-conf"}},[s._v("#")]),s._v(" 配置 OpenVPN - Server.conf")]),s._v(" "),t("p",[s._v("切换目录至 "),t("code",[s._v("/root/tools/openvpn-server/")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 备份原文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" server.conf server.conf_"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%F"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开始编辑")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" server.conf\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0\nport "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1194")]),s._v("                                           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 端口")]),s._v("\nproto udp                                           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 协议")]),s._v("\ndev tun                                             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 采用路由隧道模式 tun")]),s._v("\nca /root/tools/openvpn-server/keys/ca.crt           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ca 证书文件位置")]),s._v("\ncert /root/tools/openvpn-serverkeys/aliyun.crt      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务端公钥名称")]),s._v("\nkey /root/tools/openvpn-serverkeys/aliyun.key       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务端私钥名称")]),s._v("\ndh /root/tools/openvpn-serverkeys/dh1024.pem        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 交换证书")]),s._v("\nserver "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.0 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0                       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给客户端分配地址池，注意：不能和VPN服务器内网网段有相同")]),s._v("\npush "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"route 172.19.0.0 255.255.255.0"')]),s._v("               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 允许客户端访问内网 172.19.0.0 网段")]),s._v("\nifconfig-pool-persist ipp.txt                       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 地址池记录文件位置")]),s._v("\nkeepalive "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v("                                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 存活时间，10秒ping一次,120 如未收到响应则视为断线")]),s._v("\nmax-clients "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("                                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最多允许100个客户端连接")]),s._v("\nstatus openvpn-status.log                           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志记录位置")]),s._v("\nverb "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("                                              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志级别等级")]),s._v("\nclient-to-client                                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 客户端与客户端之间支持通信")]),s._v("\nlog /var/log/openvpn.log                            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OpenVPN 日志记录位置")]),s._v("\npersist-key                                         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过 keepalive 检测超时后，重新启动 VPN，不重新读取 keys，保留第一次使用的 keys。")]),s._v("\npersist-tun                                         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检测超时后，重新启动VPN，一直保持 tun 是 linkup 的。否则网络会先 linkdown 然后再linkup")]),s._v("\nduplicate-cn                                        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 客户端使用相同的证书和密钥连接VPN，要打开这个选项，否则每个证书只允许一个人连接VPN")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])]),t("h2",{attrs:{id:"配置-iptables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-iptables"}},[s._v("#")]),s._v(" 配置 iptables")]),s._v(" "),t("h3",{attrs:{id:"配置-iptables-前-确保-iptables-已经开启否则无效"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-iptables-前-确保-iptables-已经开启否则无效"}},[s._v("#")]),s._v(" 配置 iptables 前，确保 iptables 已经开启否则无效")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y iptables-services        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 iptables-service")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"清除-iptables-规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清除-iptables-规则"}},[s._v("#")]),s._v(" 清除 iptables 规则")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" iptables       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# iptables 启用")]),s._v("\n\niptables -F                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清除规则链中已有的条目")]),s._v("\niptables -X                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清除预设表filter中使用者自定链中的规则")]),s._v("\niptables -Z                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清空规则链中的数据包计算器和字节计数器")]),s._v("\n\niptables -t nat -F              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清除 nat ")]),s._v("\niptables -t nat -X\niptables -t nat -Z\n\niptables -t mangle -F           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清除 mangle")]),s._v("\niptables -t mangle -X\niptables -t mangle -Z\n\niptables -P INPUT ACCEPT        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 接收处理数据数据包")]),s._v("\niptables -P OUTPUT ACCEPT       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 接收处理输出数据包")]),s._v("\niptables -P FORWARD ACCEPT      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 接收处理转发数据包")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h3",{attrs:{id:"添加-iptables-规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加-iptables-规则"}},[s._v("#")]),s._v(" 添加 iptables 规则")]),s._v(" "),t("h4",{attrs:{id:"openvpn-使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#openvpn-使用"}},[s._v("#")]),s._v(" OpenVPN 使用")]),s._v(" "),t("p",[s._v("这里我们使用到的命令如下")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置nat表将vpn网段IP转发到server内网，这很重要")]),s._v("\niptables -t nat -I POSTROUTING -s "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.0/24 -o eth0 -j SNAT --to-source "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.19")]),s._v(".89.134\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看列表")]),s._v("\niptables -L -n -t nat\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# iptables 保存")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" iptables save\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务器重启以应用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" iptables restart\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看状态")]),s._v("\nsystemctl list-unit-files "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" iptables\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("重要: 防火墙一定要开启后再进行上述配置操作")]),s._v(" "),t("p",[t("strong",[s._v("10.8.0.0/24 为VPN分配的网段")]),s._v(" "),t("br"),s._v(" "),t("strong",[s._v("172.19.89.134 为当前 OpenVPN Server 安装的服务器 172.19 地址地址私有 ip")])])]),s._v(" "),t("h3",{attrs:{id:"开启内部-ipv4-路由转发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启内部-ipv4-路由转发"}},[s._v("#")]),s._v(" 开启内部 IPv4 路由转发")]),s._v(" "),t("p",[s._v("作为路由或者 VPN 服务就必须要开启IP转发功能")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sysctl.conf\n\nnet.ipv4.ip_forward "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1开启，0不开")]),s._v("\nsysctl -p                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使配置立即生效")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"启动-openvpn-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动-openvpn-server"}},[s._v("#")]),s._v(" 启动 OpenVPN Server")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择配置文件并以后台方式运行")]),s._v("\n/usr/local/sbin/openvpn --config /root/tools/openvpn-server/server.conf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看状态")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" openvpn\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"启动-openvpn-client"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动-openvpn-client"}},[s._v("#")]),s._v(" 启动 OpenVPN Client")]),s._v(" "),t("p",[s._v("Windows 环境，首先下载客户端 "),t("a",{attrs:{href:"https://www.techspot.com/downloads/5182-openvpn.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("OpenVPN Client"),t("OutboundLink")],1),s._v("。"),t("br")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("将服务器 "),t("code",[s._v("/root/tools/openvpn-server")]),s._v(" 目录下的 "),t("code",[s._v("client.key、client.csr、client.crt、ca.crt")]),s._v(" "),t("br")])]),s._v(" "),t("li",[t("p",[s._v("下载到 "),t("code",[s._v("F:\\Tools\\OpenVPN")]),s._v(" (我本地安装目录) "),t("br")])])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("linux 下载文件或上传 (rz, sz 命令)")]),s._v(" "),t("p",[s._v("yum -y install lrzsz")])]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("创建 "),t("code",[s._v("client.ovpn")]),s._v(" 文件，配置如下（修改 IP & cert & key 名称）")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("client                              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 声明当前VPN是客户端")]),s._v("\ndev tun                             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用tun隧道传输协议")]),s._v("\nproto udp                           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用udp协议传输数据")]),s._v("\nremote "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("47.100")]),s._v(".XXX.XXX "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1194")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- OpenVPN Server 所安装服务器 IP 地址与端口 (47.100.XXX.XXX)")]),s._v("\nresolv-retry infinite               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 断线自动重新连接，在网络不稳定的情况下非常有用")]),s._v("\nnobind                              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不绑定本地特定的端口号")]),s._v("\npersist-key                         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过 keepalive 检测超时后，重新启动 VPN，不重新读取 keys，保留第一次使用的 keys。")]),s._v("\npersist-tun                         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检测超时后，重新启动VPN，一直保持 tun 是 linkup 的。否则网络会先 linkdown 然后再linkup")]),s._v("\nca ca.crt                           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- OpenVPN Server 服务器上拷贝下 ca.crt 文件")]),s._v("\ncert mike.crt                       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- OpenVPN Server 服务器上拷贝下 client.crt 文件")]),s._v("\nkey mike.key                        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- OpenVPN Server 服务器上拷贝下 client.key 文件")]),s._v("\ncomp-lzo                            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用LZO压缩")]),s._v("\nverb "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("                              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志级别等级")]),s._v("\nremote-cert-tls server\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("ol",{attrs:{start:"4"}},[t("li",[t("p",[s._v("右击 Client 小锁菜单选择导入配置文件，选择上面创建的 "),t("code",[s._v("client.ovpn")])])]),s._v(" "),t("li",[t("p",[s._v("右击选择连接，此时 OpenVPN 会分配一个 "),t("code",[s._v("10.8.0.0")]),s._v(" 网段的 IP 地址给本机。使用 "),t("code",[s._v("ipconfig")]),s._v(" 进行查看")])])]),s._v(" "),t("blockquote",[t("p",[s._v("小图标绿了，就代表他已经连接至 OpenVPN Server ( 👽 : 怎么就绿了 )")])]),s._v(" "),t("div",{staticClass:"language-SHELL line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("未知适配器 本地连接:\n\n   连接特定的 DNS 后缀 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\n   本地链接 IPv6 地址. "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" fe80::4d4d:2ef7:3199:a610%26\n   IPv4 地址 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.6\n   子网掩码  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.252\n   默认网关. "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("ol",{attrs:{start:"6"}},[t("li",[s._v("使用命令 "),t("code",[s._v("route print")]),s._v(" 查看路由列表")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n接口列表\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".00 ff "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("79")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("47")]),s._v(" e2 e8 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("TAP-Windows Adapter V9\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".6c 4b "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("54")]),s._v(" ca "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("Realtek PCIe GBE Family Controller\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".00 1a 7d da "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("71")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("Bluetooth Device "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Personal Area Network"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".Software Loopback Interface "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n\nIPv4 路由表\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n活动路由:\n网络目标        网络掩码          网关       接口   跃点数\n          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.152     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128.0")]),s._v(".0.0         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.5         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.6    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("281")]),s._v("\n         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.0    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.5         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.6    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("281")]),s._v("\n         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.4  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.252            在链路上          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.6    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("281")]),s._v("\n         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.6  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255            在链路上          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.6    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("281")]),s._v("\n         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.7  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255            在链路上          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.6    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("281")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("47.100")]),s._v(".160.158  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.152    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("291")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.0        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.0")]),s._v(".0.0            在链路上         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("331")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255            在链路上         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("331")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.255")]),s._v(".255.255  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255            在链路上         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("331")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128.0")]),s._v(".0.0        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128.0")]),s._v(".0.0         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.5         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.6    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("281")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.19")]),s._v(".0.0    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.5         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.6    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("281")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.0    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0            在链路上     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.152    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("291")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.152  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255            在链路上     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.152    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("291")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.255  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255            在链路上     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.152    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("291")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("224.0")]),s._v(".0.0        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("240.0")]),s._v(".0.0            在链路上         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("331")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("224.0")]),s._v(".0.0        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("240.0")]),s._v(".0.0            在链路上     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.152    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("291")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("224.0")]),s._v(".0.0        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("240.0")]),s._v(".0.0            在链路上          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.6    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("281")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255            在链路上         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("331")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255            在链路上     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.152    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("291")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.255            在链路上          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.6    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("281")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br")])]),t("p",[s._v("列表中 "),t("code",[s._v("172.19.0.0 255.255.255.0 10.8.0.5 10.8.0.6 281")]),s._v("，已加入 OpenVPN Server 配置的网段内。")]),s._v(" "),t("h3",{attrs:{id:"查看网络状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看网络状态"}},[s._v("#")]),s._v(" 查看网络状态")]),s._v(" "),t("p",[t("strong",[s._v("使用网络追踪命令 tracert，查看网络状态")])]),s._v(" "),t("p",[s._v("在 OpenVPN 连接状态下，追踪一下 "),t("code",[s._v("172.19.89.132")]),s._v(" ( 此 IP 为 OpenVPN Server 所在子网里另外一台机器 )")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" tracert -d "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.19")]),s._v(".89.132\n\n通过最多 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" 个跃点跟踪到 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.19")]),s._v(".89.132 的路由\n\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" ms    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" ms    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" ms  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.19")]),s._v(".89.132\n\n跟踪完成。\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("以上状态为正常状态，也可以使用另外 "),t("code",[s._v("ping")]),s._v(" 的指令来进行查看网络状态")]),s._v(" "),t("p",[s._v("也可以简单粗暴直接访问 "),t("a",{attrs:{href:"https://ip.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ip.cn"),t("OutboundLink")],1),s._v(" ，地区显示为阿里云，ip 为 OpenVPN Server 所在服务器 ip")]),s._v(" "),t("blockquote",[t("p",[s._v("tracert 或 ping 一直超时则代表有问题 🤔")]),s._v(" "),t("p",[s._v("我在安装时遇到这个问题，是因为防火墙未开启内部路由无法转发造成的。( 如何开启参考上述章节即可 )")])])])}),[],!1,null,null,null);a.default=n.exports}}]);